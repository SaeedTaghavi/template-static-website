define(["underscore","js/widgets/config","js/widgets/dropdown-menu/widget"],function(t,r,n){var a=[{description:"in BibTeX",navEvent:"export",params:{format:"bibtex"}},{description:"in AASTeX",navEvent:"export",params:{format:"aastex"}},{description:"in EndNote",navEvent:"export",params:{format:"endnote"}},{description:"in RIS",navEvent:"export",params:{format:"ris"}},{description:"Author Affiliation",navEvent:"show-author-affiliation-tool"},{description:"Other Formats",navEvent:"export",params:{format:"other"}}];return function(){return new n({links:a,btnType:"btn-primary-faded",dropdownTitle:"Export",iconClass:"icon-export",rightAlign:!0,selectedOption:!0,updateLinks:function(n){var e=n.defaultExportFormat,i=t.find(r.export.formats,{label:e}).value;if(e){var o;if(t.forEach(a,function(t,r){if(t.params&&t.params.format&&t.params.format===i)return o=r,!1}),0===o)return a;var s=t.assign({},a[0],{description:"in "+e,params:t.assign({},a[0].params,{format:i})});return o?[s].concat(a.slice(0,o)).concat(a.slice(o+1)):[s].concat(a.slice(0))}return a}})}});