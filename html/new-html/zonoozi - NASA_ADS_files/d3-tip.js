!function(t,e){"function"==typeof define&&define.amd?define(["d3"],e):e(t.d3)}(this,function(t){return t.tip=function(){var e=function(){return"n"},n=function(){return[0,0]},r=function(){return" "},o=function(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}(),i=null,l=null,f=null;function s(t){var e;i="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,l=i.createSVGPoint(),document.body.appendChild(o)}s.show=function(){var i=Array.prototype.slice.call(arguments);i[i.length-1]instanceof SVGElement&&(f=i.pop());var l,c=r.apply(this,i),p=n.apply(this,i),y=e.apply(this,i),m=t.select(o),d=a.length,h=document.documentElement.scrollTop||document.body.scrollTop,x=document.documentElement.scrollLeft||document.body.scrollLeft;for(m.html(c).style({opacity:1,"pointer-events":"all"});d--;)m.classed(a[d],!1);return l=u.get(y).apply(this),m.classed(y,!0).style({top:l.top+p[0]+h+"px",left:l.left+p[1]+x+"px"}),s},s.hide=function(){return t.select(o).style({opacity:0,"pointer-events":"none"}),s},s.attr=function(e,n){if(arguments.length<2&&"string"==typeof e)return t.select(o).attr(e);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(t.select(o),r),s},s.style=function(e,n){if(arguments.length<2&&"string"==typeof e)return t.select(o).style(e);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(t.select(o),r),s},s.direction=function(n){return arguments.length?(e=null==n?n:t.functor(n),s):e},s.offset=function(e){return arguments.length?(n=null==e?e:t.functor(e),s):n},s.html=function(e){return arguments.length?(r=null==e?e:t.functor(e),s):r};var u=t.map({n:function(){var t=c();return{top:t.n.y-o.offsetHeight,left:t.n.x-o.offsetWidth/2}},s:function(){var t=c();return{top:t.s.y,left:t.s.x-o.offsetWidth/2}},e:function(){var t=c();return{top:t.e.y-o.offsetHeight/2,left:t.e.x}},w:function(){var t=c();return{top:t.w.y-o.offsetHeight/2,left:t.w.x-o.offsetWidth}},nw:function(){var t=c();return{top:t.nw.y-o.offsetHeight,left:t.nw.x-o.offsetWidth}},ne:function(){var t=c();return{top:t.ne.y-o.offsetHeight,left:t.ne.x}},sw:function(){var t=c();return{top:t.sw.y,left:t.sw.x-o.offsetWidth}},se:function(){var t=c();return{top:t.se.y,left:t.e.x}}}),a=u.keys();function c(){var e=f||t.event.target,n={},r=e.getScreenCTM(),o=e.getBBox(),i=o.width,s=o.height,u=o.x,a=o.y;return l.x=u,l.y=a,n.nw=l.matrixTransform(r),l.x+=i,n.ne=l.matrixTransform(r),l.y+=s,n.se=l.matrixTransform(r),l.x-=i,n.sw=l.matrixTransform(r),l.y-=s/2,n.w=l.matrixTransform(r),l.x+=i,n.e=l.matrixTransform(r),l.x-=i/2,l.y-=s/2,n.n=l.matrixTransform(r),l.y+=s,n.s=l.matrixTransform(r),n}return s},t.tip});