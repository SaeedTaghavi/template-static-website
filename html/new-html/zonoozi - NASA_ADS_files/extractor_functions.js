define([],function(){function e(e){return e.filter(function(e){return e.y>0}).length>0}var r={};function n(e,r){var n={};return _.each(r,function(r,a){e[a]?n[a]=r-e[a]:n[a]=r}),n}return r.plot_paperhist=function(r){var a,t=[],i=r.paperhist_data;return a=r.norm?[i["refereed publications normalized"],n(i["refereed publications normalized"],i["all publications normalized"])]:[i["refereed publications"],n(i["refereed publications"],i["all publications"])],_.each(a,function(e,r){var n=[];_.each(e,function(e,r){n.push({x:r,y:e})}),t.push(n)}),[{key:"Refereed",values:t[0]},{key:"Non-refereed",values:t[1]}].filter(function(r,n){return e(r.values)})},r.plot_readshist=function(r){var a,t=[];return a=r.norm?[r.readshist_data["refereed reads normalized"],n(r.readshist_data["refereed reads normalized"],r.readshist_data["all reads normalized"])]:[r.readshist_data["refereed reads"],n(r.readshist_data["refereed reads"],r.readshist_data["all reads"])],_.each(a,function(e,r){var n=[];_.each(e,function(e,r){n.push({x:r,y:e})}),t.push(n)}),[{key:"Refereed",values:t[0]},{key:"Non-refereed",values:t[1]}].filter(function(r,n){return e(r.values)})},r.plot_citshist=function(r){var n,a=[],t=r.citshist_data;return n=r.norm?[t["refereed to refereed normalized"],t["refereed to nonrefereed normalized"],t["nonrefereed to refereed normalized"],t["nonrefereed to nonrefereed normalized"]]:[t["refereed to refereed"],t["refereed to nonrefereed"],t["nonrefereed to refereed"],t["nonrefereed to nonrefereed"]],_.each(n,function(e,r){var n=[];_.each(e,function(e,r){n.push({x:r,y:e})}),a.push(n)}),["Ref. citations to ref. papers","Ref. citations to non ref. papers","Non ref. citations to ref. papers","Non ref. citations to non ref. papers"].map(function(e,r){return{key:e,values:a[r]}}).filter(function(r,n){return e(r.values)})},r.plot_series=function(e){var r=e.series_data,n=[r.h,r.g,r.i10,r.tori,r.i100,r.read10],a=[];return _.each(n,function(e,r){var n=[];_.each(e,function(e,r){n.push({x:r,y:e})}),a.push(n)}),a[5]=_.map(a[5],function(e){return{x:e.x,y:e.y/10}}),[{key:"h Index",values:a[0]},{key:"g Index",values:a[1]},{key:"i10 Index",values:a[2]},{key:"tori Index",values:a[3]},{key:"i100 Index",values:a[4]},{key:"read10 Index",values:a[5]}]},r});